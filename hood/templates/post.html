{% extends 'registration/base.html' %}
{% block content %}
{%block styles%}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
 integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
 integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
{%endblock%}
{{block.super}}

<div class="container">

 <div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8">
   <div class="card">
    <div class="card-header">
     {{project.title}}
    </div>
    <div class="card-body">
     <img width="100%" src=" {{project.image.url}}" alt="{{post.name}}">
     <div class="description">
      {{project.description}}
     </div>
     <div class="card-footer">
      <b>Posted by:</b> {{project.user}} <br>
      Project link: <a href=" {{project.link}} "> {{project.link}} </a> <br>
      <a href="{%url 'comment' project.id%}" class="btn btn-primary" style="text-align: center;">Leave a Review</a>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Rate this Project
      </button>
     </div>



     <div class="card">
      <div class="">
       <div class="card-header">
        <u> Reviews for {{project.title}} </u>
       </div>
       <div class="card-body">
        {% for comment in comments%}
        <h5><b> {{comment.text}}</b> </h5>
        {%empty%}
        <p>this project has no reviews </p>
        {%endfor%}

       </div>

       <div class="card">
        <div class="card-header">
         <b>Ratings</b>
        </div>
        <div class="card-body">
         <b>Design: {{design}}% </b> <br>
         <b>Usability: {{usability}}% </b> <br>
         <b>Content: {{content}}% </b> <br>
        </div>
       </div>

      </div>
     </div>

    </div>

   </div>
  </div>
 </div>
</div>


<!-- The Modal -->
<div class="modal" id="myModal">
 <div class="modal-dialog">
  <div class="modal-content">

   <!-- Modal Header -->
   <div class="modal-header">
    <h4 class="modal-title">Rate </h4>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
   </div>

   <!-- Modal body -->
   <div class="modal-body">
    <form action=" {%url 'ratings' project.id  %}" method="POST">
     {% csrf_token %}
     <h2>Design</h2>
     <input type="radio" name="design" id="design" value="1">1
     <input type="radio" name="design" id="design" value="2">2
     <input type="radio" name="design" id="design" value="3">3
     <input type="radio" name="design" id="design" value="4">4
     <input type="radio" name="design" id="design" value="5">5
     <input type="radio" name="design" id="design" value="6">6
     <input type="radio" name="design" id="design" value="7">7
     <input type="radio" name="design" id="design" value="8">8
     <input type="radio" name="design" id="design" value="9">9
     <input type="radio" name="design" id="design" value="10">10 <br>

     <h2>Content</h2>
     <input type="radio" name="content" id="design" value="1">1
     <input type="radio" name="content" id="design" value="2">2
     <input type="radio" name="content" id="design" value="3">3
     <input type="radio" name="content" id="design" value="4">4
     <input type="radio" name="content" id="design" value="5">5
     <input type="radio" name="content" id="design" value="6">6
     <input type="radio" name="content" id="design" value="7">7
     <input type="radio" name="content" id="design" value="8">8
     <input type="radio" name="content" id="design" value="9">9
     <input type="radio" name="content" id="design" value="10">10 <br>

     <h2>Usability</h2>
     <input type="radio" name="usability" id="design" value="1">1
     <input type="radio" name="usability" id="design" value="2">2
     <input type="radio" name="usability" id="design" value="3">3
     <input type="radio" name="usability" id="design" value="4">4
     <input type="radio" name="usability" id="design" value="5">5
     <input type="radio" name="usability" id="design" value="6">6
     <input type="radio" name="usability" id="design" value="7">7
     <input type="radio" name="usability" id="design" value="8">8
     <input type="radio" name="usability" id="design" value="9">9
     <input type="radio" name="usability" id="design" value="10">10 <br>

     <input type="submit" class="btn-success" style="margin-left: 30%;" value="Rate"> {% for message in messages %}

     <h2> {{message}} </h2>
     {% endfor %}

    </form>
   </div>


  </div>
  <!-- Modal footer -->
  <div class="modal-footer">
   <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
  </div>
 </div>



</div>



<style>
 .card {
  margin-bottom: 2%;
 }
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}